<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo 1</title>
    <link href="index.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>


</head>

<body class="text-bg-dark">

    <div class="container d-flex h-100 text-center ">
        <div class="cover-container d-flex w-100 h-100 p-3  m-2 ml-3 flex-column">

            <header class="mb-auto">
                <div>
                    <h3 class="float-md-start mb-0">Tensorflow</h3>
                    <nav class="nav bg-dark nav-masthead justify-content-center float-md-end">
                        <a class=" text-bg-dark nav-link nav-link-ltr   fw-bold py-1  active" aria-current="page"
                            href="index.html">Home</a>
                        <a class="nav-link nav-link-ltr text-bg-dark  fw-bold py-1 " href="#">Demo 1</a>
                        <a class="nav-link nav-link-ltr text-bg-dark fw-bold py-1 " href="#">Demo 2</a>
                        <a class="nav-link nav-link-ltr text-bg-dark fw-bold py-1 " href="#">Demo 3</a>
                        <a class="nav-link nav-link-ltr text-bg-dark fw-bold py-1 " href="#">Demo 4</a>
                        <a class="nav-link nav-link-ltr text-bg-dark fw-bold py-1 " href="#">Demo 5</a>



                    </nav>
                </div>
            </header>

            <main class="px-3 py-5 h-100  justify-content-center">
                <br>
                <br>
                <img src="images/cat.png" alt="categorization">
                <h1> Demo 1 ( Categorization)</h1>
                <p class="lead">Enter any text which will be categorized by the model into buckets which you define.
                    <!-- <br>  <strong>RoBERTa large model</strong> or   <strong>roberta-large-mnli</strong> is the RoBERTa large model fine-tuned on the Multi-Genre Natural Language Inference (MNLI) corpus. The model is a pretrained model on English language text using a masked language modeling (MLM) objective -->
                </p>
                <br>
                <br>
                <br>
                <br>
                <br>



                <form id="form" action='flask/cat' method="POST" name="form" class="container w-50 text-start">
                    <div id="text-group" class="form-group mt-2">
                        <label for="Text" class="fw-bold">Text</label>
                        <input type="text" class="form-control" id="Text" aria-describedby="Text"
                            placeholder="Accenture will do 50% more business this year" name="Text">
                    </div>
                    <br>

                    <div id="tags-group" class="form-group mt-2">
                        <label for="Text" class="fw-bold">Tags</label>
                        <br>
                        <small class=" text-white-50 mb-2">
                            Enter comma spaced categories that you expect the ml model to fit text into
                        </small>

                        <input type="text" class="form-control" id="Tags" aria-describedby="Tags"
                            placeholder="Business, Travel, Entertainment" name="Tags">
                    </div>
                    <div class="m-4"></div>
                    <button type="submit" name="submit" id="submit" class="btn submit btn-primary text-center mt-3">
                        Submit
                        <div id="spinner" class="spinner-border text-light d-none" role="status"></div>
                    </button>




                </form>



            </main>


            <div id="myChart1" style="max-width:700px; height:400px"></div>
        </div>
    </div>
    <script>
        $(function () {
            $('.submit').click(function () {

                $("#spinner").removeClass("d-none");
                $("#submit").html('<div id="spinner" class="spinner-grow spinner-grow-sm text-light " role="status"></div> Thinking ..');
                $("#submit").attr("disabled", true);

                $('#Text').attr("disabled", true);
                $('#Tags').attr("disabled", true);


                setTimeout(function () {
                    const formData = new FormData();
                    formData.append('Text', $('#Text').val)
                    formData.append('Tags', $('#Tags').val)

                    $("#spinner").hide();
                    $("#submit").hide();
                    $('#text-group').hide();
                    $('#tags-group').hide();
                    $("#submit").html('<div id="spinner" class="spinner-grow spinner-grow-sm text-light " role="status"></div> Thinking ..');
                    $('<label for="result" class="fw-bold m-1">Result</label><br><div class="input-group mb-3"><span class="input-group-text bg-success text-light border-success" id="basic-addon2">What I think</span><input id="result" type="text" class="form-control" placeholder="Answer" aria-label="Answer"  aria-describedby="basic-addon2"></div>')
                        .appendTo("#form");
                        var obj;
                        fetch('./flask/cat', { method: 'POST' }, {
                            method: 'POST',
                            body: formData
                        }).then((response) => response.json())
                            .then((result) => {
                                console.log('Success:', result);
                            })
                            .catch((error) => {
                                console.error('Error:', error);
                            });
                }, 500);


                return false;
            });
        });
        // .then(
        //                     $('<button class="btn btn-primary mt-5 text-center" id="reset" type="reset" onclick="location.reload() ">Ask me again ?</button>').appendTo('#form')

        //                 );

    </script>
    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <canvas id="myChart" width="400" height="400"></canvas>

    <footer class="mt-auto text-center text-white-50">
        <p>A five part <a href="https://getbootstrap.com/" class="text-white">Tensorflow demo</a>, by <a
                href="https://github.com/xxXWarMachineRoXxx" class="text-white">@Rijul_Sharma</a>.</p>
    </footer>
</body>

</html>